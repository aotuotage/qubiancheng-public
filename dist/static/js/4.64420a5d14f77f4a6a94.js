webpackJsonp([4],{k45M:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("m4jk"),n={name:"Details",data:()=>({activeName:"first",tableData:[],isShow:!1,formLabelAlign:{name:"",phone:"",time:""},page:1,page2:1,page3:1,page4:1,total:0,coursenum:0,courseData:[],articlenum:0,articleData:[],questionsnum:0,questionsData:[]}),methods:{handleClick(t){"0"==t.index&&this.initPage(this.page),"1"==t.index&&this.course(this.page2),"2"==t.index&&this.articlebs(this.page3),"3"==t.index&&this.questions(this.page4)},course(t){var e=this;Object(s.a)({url:"/adminpage/course",method:"get",params:{page:t,authentication:localStorage.getItem("authentication")}}).then(function(t){"请登录"==t.data.msg&&e.$router.push("/qubianchengadmin"),e.coursenum=t.data.coursenum,e.courseData=t.data.courseData}).catch(function(t){console.log(t)})},articlebs(t){var e=this;Object(s.a)({url:"/adminpage/article",method:"get",params:{page:t,authentication:localStorage.getItem("authentication")}}).then(function(t){"请登录"==t.data.msg&&e.$router.push("/qubianchengadmin"),e.articlenum=t.data.articlenum,e.articleData=t.data.articleData}).catch(function(t){console.log(t)})},questions(t){var e=this;Object(s.a)({url:"/adminpage/questions",method:"get",params:{page:t,authentication:localStorage.getItem("authentication")}}).then(function(t){"请登录"==t.data.msg&&e.$router.push("/qubianchengadmin"),e.questionsnum=t.data.questionsnum,e.questionsData=t.data.questionsData}).catch(function(t){console.log(t)})},deleteRow(t){var e=this;Object(s.a)({url:"/adminpage/delete",method:"post",data:{id:t,authentication:localStorage.getItem("authentication")}}).then(function(t){"请登录"==t.data.msg&&e.$router.push("/qubianchengadmin"),"success"==t.data.status?(e.$message({message:"删除成功",type:"success"}),e.initPage(e.page)):e.$message.error("删除失败")}).catch(function(t){console.log(t)})},deleteRowTwo(t){var e=this;Object(s.a)({url:"/adminpage/deletecourse",method:"post",data:{id:t,authentication:localStorage.getItem("authentication")}}).then(function(t){"请登录"==t.data.msg&&e.$router.push("/qubianchengadmin"),"success"==t.data.status?(e.$message({message:"删除成功",type:"success"}),e.course(e.page2)):e.$message.error("删除失败")}).catch(function(t){console.log(t)})},deleteRowThree(t){var e=this;Object(s.a)({url:"/adminpage/deletearticle",method:"post",data:{id:t,authentication:localStorage.getItem("authentication")}}).then(function(t){"请登录"==t.data.msg&&e.$router.push("/qubianchengadmin"),"success"==t.data.status?(e.$message({message:"删除成功",type:"success"}),e.articlebs(e.page3)):e.$message.error("删除失败")}).catch(function(t){console.log(t)})},deleteRowFour(t){var e=this;Object(s.a)({url:"/adminpage/deletequestions",method:"post",data:{id:t,authentication:localStorage.getItem("authentication")}}).then(function(t){"请登录"==t.data.msg&&e.$router.push("/qubianchengadmin"),"success"==t.data.status?(e.$message({message:"删除成功",type:"success"}),e.questions(e.page4)):e.$message.error("删除失败")}).catch(function(t){console.log(t)})},addOne(){this.isShow=!this.isShow},dateFormat(t,e){var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var s in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+s+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[s]:("00"+a[s]).substr((""+a[s]).length)));return e},addTwo(){if(""==this.formLabelAlign.name)return this.$message.error("用户名不能为空"),!1;if(""==this.formLabelAlign.phone)return this.$message.error("手机号不能为空"),!1;this.formLabelAlign.time=this.dateFormat(new Date,"yyyy/MM/dd"),this.formLabelAlign.authentication=localStorage.getItem("authentication");var t=this;Object(s.a)({url:"/adminpage/add",method:"post",data:t.formLabelAlign}).then(function(e){"请登录"==e.data.msg&&t.$router.push("/qubianchengadmin"),"success"==e.data.status?(t.$message({message:"新增成功",type:"success"}),t.initPage(t.page)):t.$message.error("新增失败")}).catch(function(t){console.log(t)})},initPage(t){var e=this;Object(s.a)({url:"/adminpage/userdata",method:"get",params:{page:t,authentication:localStorage.getItem("authentication")}}).then(function(t){"请登录"==t.data.msg&&e.$router.push("/qubianchengadmin"),e.tableData=t.data.usersData,e.total=t.data.usernum}).catch(function(t){console.log(t)})},handleCurrentChange(t){this.initPage(t),this.page=t},courseChange(t){this.course(t),this.page2=t},articleChange(t){this.articlebs(t),this.page3=t},questionsChange(t){this.questions(t),this.page4=t}},created(){this.initPage(1)}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"用户管理",name:"first"}},[a("el-row",{staticClass:"top"},[a("el-col",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("el-form",{attrs:{"label-position":"left","label-width":"80px",model:t.formLabelAlign}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.formLabelAlign.name,callback:function(e){t.$set(t.formLabelAlign,"name",e)},expression:"formLabelAlign.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{model:{value:t.formLabelAlign.phone,callback:function(e){t.$set(t.formLabelAlign,"phone",e)},expression:"formLabelAlign.phone"}})],1)],1)],1),t._v(" "),a("el-col",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!isShow"}],staticClass:"btn",attrs:{type:"primary"},on:{click:t.addOne}},[t._v("\n            新增用户\n          ")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"btn",attrs:{type:"primary"},on:{click:t.addTwo}},[t._v("\n            确定\n          ")])],1)],1),t._v(" "),a("el-row",{staticClass:"table",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h3",[t._v("用户列表")]),t._v(" "),a("el-table",{attrs:{data:t.tableData,"max-height":"400"}},[a("el-table-column",{attrs:{prop:"time",label:"日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return a.preventDefault(),t.deleteRow(e.row._id)}}},[t._v("\n                移除\n              ")])]}}])})],1)],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"视频教程管理",name:"second"}},[a("el-row",{staticClass:"top"},[a("el-col",[a("router-link",{attrs:{to:{path:"/edit"}}},[a("el-button",{staticClass:"btn",attrs:{type:"primary"}},[t._v("新建教程")])],1)],1)],1),t._v(" "),a("el-row",{staticClass:"table",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h3",[t._v("教程列表")]),t._v(" "),a("el-table",{attrs:{data:t.courseData,"max-height":"400"}},[a("el-table-column",{attrs:{prop:"title",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"time",label:"时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return a.preventDefault(),t.deleteRowTwo(e.row._id)}}},[t._v("\n                移除\n              ")]),t._v(" "),a("router-link",{attrs:{to:{path:"/edit",query:{key:e.row._id}}}},[a("el-button",{staticClass:"edit",attrs:{type:"text",size:"small"}},[t._v("\n                  编辑\n                ")])],1)]}}])})],1)],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:t.coursenum},on:{"current-change":t.courseChange}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"文章管理",name:"third"}},[a("el-row",{staticClass:"top"},[a("el-col",[a("router-link",{attrs:{to:{path:"/articlebs"}}},[a("el-button",{staticClass:"btn",attrs:{type:"primary"}},[t._v("新建文章")])],1)],1)],1),t._v(" "),a("el-row",{staticClass:"table",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h3",[t._v("文章列表")]),t._v(" "),a("el-table",{attrs:{data:t.articleData,"max-height":"400"}},[a("el-table-column",{attrs:{prop:"title",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"time",label:"时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return a.preventDefault(),t.deleteRowThree(e.row._id)}}},[t._v("\n                移除\n              ")]),t._v(" "),a("router-link",{attrs:{to:{path:"/articlebs",query:{key:e.row._id}}}},[a("el-button",{staticClass:"edit",attrs:{type:"text",size:"small"}},[t._v("\n                  编辑\n                ")])],1)]}}])})],1)],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:t.coursenum},on:{"current-change":t.articleChange}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"刷题管理",name:"fourth"}},[a("el-row",{staticClass:"top"},[a("el-col",[a("router-link",{attrs:{to:{path:"/questions"}}},[a("el-button",{staticClass:"btn",attrs:{type:"primary"}},[t._v("新建题目")])],1)],1)],1),t._v(" "),a("el-row",{staticClass:"table",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h3",[t._v("题目列表")]),t._v(" "),a("el-table",{attrs:{data:t.questionsData,"max-height":"400"}},[a("el-table-column",{attrs:{prop:"title",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"time",label:"时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return a.preventDefault(),t.deleteRowFour(e.row._id)}}},[t._v("\n                移除\n              ")]),t._v(" "),a("router-link",{attrs:{to:{path:"/questions",query:{key:e.row._id}}}},[a("el-button",{staticClass:"edit",attrs:{type:"text",size:"small"}},[t._v("\n                  编辑\n                ")])],1)]}}])})],1)],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:t.questionsnum},on:{"current-change":t.questionsChange}})],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(n,l,!1,function(t){a("kjGt")},"data-v-b6971bee",null);e.default=o.exports},kjGt:function(t,e){}});